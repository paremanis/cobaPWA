<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/main.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="icons/192.png">
    <script src="js/html5-qrcode.min.js"></script>
    <title>Scan QR Code</title>
</head>

<body onload="checkSession()">

    <section class="profile">
        <h4>Hanafi Adib Nugraha</h4>
        <h5>NRK: 65361879</h5>
    </section>

    <div id="qr-reader"></div>
    <p id="result"></p>

    <footer>

        <a class="active" href="scanner.html">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" xml:space="preserve"><path style="opacity:.4" d="M9.19 3.75c0-.42-.34-.75-.76-.75H6.8C4.61 3 2.82 4.75 2.82 6.9v1.86c0 .41.34.75.76.75s.76-.34.76-.75V6.9c0-1.33 1.1-2.41 2.45-2.41h1.63c.43 0 .77-.33.77-.74zm8-.75H15.6c-.42 0-.76.33-.76.75 0 .41.34.75.76.75h1.59c1.36 0 2.46 1.08 2.46 2.41v1.86c0 .41.34.75.76.75s.76-.34.76-.75V6.91C21.18 4.75 19.39 3 17.19 3zM9.24 6.74h5.52c.61 0 1.19.24 1.61.66.43.43.66 1 .66 1.6v1.25c0 .15-.12.26-.27.27H7.24c-.15 0-.27-.12-.27-.27V9.01c-.01-1.24 1-2.25 2.27-2.27z"/><path d="M22.24 12.04H1.76c-.42 0-.76.34-.76.75s.34.75.76.75h1.06v3.56c0 2.15 1.78 3.9 3.97 3.9h1.63c.42 0 .76-.33.76-.75 0-.41-.34-.75-.76-.75H6.79c-1.35 0-2.45-1.08-2.45-2.41v-3.56h2.62v.99c-.01 1.24 1.01 2.25 2.27 2.27h5.52c1.27-.01 2.28-1.03 2.27-2.27v-.99h2.62v3.56c0 1.33-1.1 2.41-2.46 2.41H15.6c-.42 0-.76.33-.76.75 0 .41.34.75.76.75h1.59c2.2 0 3.98-1.75 3.98-3.91v-3.56h1.06c.42 0 .76-.33.76-.75.01-.4-.33-.74-.75-.74z"/></svg>
            <span>Scanner</span>
        </a>

        <a href="history.html">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" xml:space="preserve"><path style="opacity:.4" d="M12 20.68c2.32 0 4.49-.91 6.14-2.56a8.657 8.657 0 0 0 2.54-6.14c-.01-4.78-3.9-8.66-8.68-8.66-2.24 0-4.37.85-6 2.4l-.1.11-1.86-1.87a.435.435 0 0 0-.46-.09c-.13.05-.26.18-.26.39v5.18c0 .23.19.42.42.42h5.18c.21 0 .34-.13.39-.26.05-.13.06-.31-.09-.46L7.3 7.22l.11-.11A6.69 6.69 0 0 1 12 5.3c3.69 0 6.7 3.01 6.7 6.7s-3.01 6.7-6.7 6.7c-1.53 0-2.97-.5-4.16-1.45a.703.703 0 0 0-.43-.15c-.18 0-.37.07-.5.21l-.4.4c-.14.14-.22.34-.21.54.01.2.1.38.26.51A8.657 8.657 0 0 0 12 20.68z"/><path d="m14.39 14.79.35-.45c.29-.37.22-.91-.15-1.2l-1.45-1.13V8.3a.85.85 0 0 0-.85-.85h-.57a.85.85 0 0 0-.85.85v4.83l2.33 1.81c.36.29.9.22 1.19-.15z"/></svg>
            <span>History</span>
        </a>

        <a href="#" onclick="doLogout()">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" xml:space="preserve"><path style="opacity:.4" d="M2.42 15.8c0 1.87 1.52 3.4 3.4 3.4h3.32c.04 0 .07-.04.07-.07v-1.58c0-.04-.03-.07-.07-.07H5.82c-.92 0-1.67-.75-1.67-1.67V8.2c0-.92.75-1.67 1.67-1.67h3.32c.04 0 .07-.03.07-.07V4.88c0-.04-.03-.07-.07-.07H5.82c-1.87 0-3.4 1.52-3.4 3.4v7.59z"/><path d="m21.26 10.33-5.19-5.19c-.45-.45-1.04-.69-1.67-.69-1.31 0-2.37 1.06-2.37 2.37v1.33H9.46c-1.3 0-2.37 1.06-2.37 2.37v2.96c0 1.3 1.06 2.36 2.37 2.36h2.57v1.34a2.369 2.369 0 0 0 4.04 1.68l5.18-5.18c.91-.93.91-2.43.01-3.35zm-7.6 3.76h-4.2c-.33 0-.61-.27-.61-.61v-2.96c0-.33.27-.61.61-.61h4.19c.07 0 .13-.06.13-.13V6.82c0-.38.31-.61.61-.61.11 0 .28.03.42.18l5.18 5.18c.24.24.24.62 0 .86l-5.18 5.18c-.11.11-.26.18-.42.18-.3 0-.61-.23-.61-.61v-2.96c.01-.07-.05-.13-.12-.13z"/></svg>
            <span>Logout</span>
        </a>

    </footer>

    <script src="js/main.js"></script>

    <!--register service worker -->
    <script src="js/sw-declaration.js"></script>
    <script>
        function onScanSuccess(decodedText, decodedResult) {
            console.log(`Code scanned = ${decodedText}`, decodedResult);
            document.getElementById('result').innerHTML = `Code scanned = ${decodedText}`;
        }
        var html5QrcodeScanner = new Html5QrcodeScanner(
            "qr-reader", { fps: 10, qrbox: 250 });
        html5QrcodeScanner.render(onScanSuccess);
    </script>
</body>

</html>